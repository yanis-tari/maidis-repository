package com.mds.monitoring;

import java.lang.Number;
import com.mds.beans.SimpleExam;
import com.mds.beans.Monitoring;
import com.mds.beans.MonitoringRange;
import com.mds.beans.VitalSignMonitoring;

rule "monitoringRule"
	    dialect "mvel"
	    ruleflow-group "monitoring"	    	    
	    salience 1
	    when
	    	$monitoringBean : Monitoring( $items : items  != null )
	        $vitalSign : VitalSignMonitoring($ranges : ranges != null, $value : NValue ) from $items
	        $range : 	MonitoringRange($value >= min , $value <= max, $action : action )	from $ranges
	    then
	      	System.out.println("Monitoring rule triggred : "+$range.action);
	      	$vitalSign.setInRange($range);
	      	$vitalSign.setMsg($action);
end